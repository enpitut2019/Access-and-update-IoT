## プロダクト名


アクセス制御と自動アップデート
## エレベーターピッチ

開発者(ベンダー)がIoT機器のモデルに応じた脆弱性の有無の情報をブロックチェーン上に置くことで,誰でも危険な機器を確認することができる。

その情報を元にモデルごとの脆弱性情報に対応した自動アクセス制限を実現した。

今回の想定している登場人物は4人で

・vender

・admin

・camera

・smart phone

それぞれの役割は

vender

・脆弱性のあるモデルのアップ

・ファームウェアのアップデート

admin

・IoTデバイス間のアクセス制御

->グループを作成する

->管理下のデバイス間のアクセス制御

->デバイスの脆弱性に応じたアクセス制御

camera

・グループに参加する処理

smart phone

・カメラへのアクセスのリクエスト

# 想定例

例えば,自分のスマホから閲覧できる監視カメラに脆弱性が見つかり,それに応じてベンダーがブロックに置いているカメラの脆弱性情報を更新すればスマホからカメラへアクセスすることはできなくなり,危険な通信を回避できる。逆にカメラからスマホにアクセスすることもできない。

# 利点
・public blockchainによってモデルの最新情報を得られる


・アクセス制御のルールの改ざんが困難


・ある時刻でのデバイスの状態が保証される

# 使い方
＜ベンダー側＞

・updateディレクトリのupdate_vender.htmlのページから以下の操作できます

  - ファームウェアのアップデート。 model名,更新ファイル(文字列) を入力して「アップロード」ボタンを押すと、アップデートファイルを公開できます
  
    トランザクションは全て送信して下さい。
    
  - 脆弱性のあるモデルの追加・脆弱性が解消されたモデルの追加
  
    モデル名を入力して、「~なモデルのアップ」ボタンを押せば可能です。
    
  - モデルの脆弱性の確認
  
    モデル名を入力して、「安全性を表示」を押すとモデルが安全かどうか表示されます。
    
    0 → 安全　1 → 危険(脆弱性含む)
    

＜Admin＞

・updateディレクトリのupdate_admin.htmlを開いといて下さい。アップデート情報を自動で取得します

・admin.html を開いて下さい。以下の操作ができます
 
  - 「Create」ボタンでグループの作成
  
  - グループに機器の追加　入力は追加したいデバイスのethereumアドレスです
  
  - グループから機器の削除　入力は追加したいデバイスのethereumアドレスです
  
  - 通信が許可されているデバイス(同じグループ)のアドレスを表示
  
  - グループ内のモデルの一覧(* モデル名のハッシュ値で表示されます)
  
  - モデルチェック　入力は調べたいデバイスのethereumアドレスです
  
   アドレスに該当するデバイスが安全かどうか表示します
 
＜カメラ側＞

・camera.htmlを開いて下さい。以下の操作ができます

  - Adminのアドレス,自身のモデル名　を入力して、reqボタンを押せば、Adminにグループ参加のリクエストが送れます
  
    許可されているデバイスなら、グループに追加されます
    
  - 現在の自身のファームウェアが表示されています。アップデートされた場合、自動で更新されます。(画面は再読み込み必要)
 
 ＜スマホ側＞
 
 ・phone.htmlを開いて下さい。以下の操作ができます。
 
  - Adminのアドレス,自身のモデル名　を入力して、reqボタンを押せば、Adminにグループ参加のリクエストが送れます
  
    許可されているデバイスなら、グループに追加されます
    
  - 接続したいデバイスのアドレス(ethreumアドレス)を入力して access ボタンを押せば、接続できるか確認できます。
  
    ・Authorized → アクセス可能
    
    ・unauthorized → アクセス不可能(許可されていない)
    
    ・dangerous → アクセス不可能(アクセス先のデバイスが脆弱)

# 仕様環境
METAMASKのインストール(chrome 拡張機能)
<!-- 
# 使用の流れ
・Admin,Vender,camera,smart phoneのアカウントを作成
・AdminのアカウントでGroupを作成する
・camera,smart phoneをグループに追加する(Addressを入力)
・アカウントを切り替えて,adminのグループに参加するリクエストを送る(adminのアドレス,任意のmodel名)
・Adminのアカウントでグループ内のデバイスのアドレス一覧,modelのハッシュ値一覧を確認できる
・smart phoneのアドレスに切り替えて,cameraにアクセスする
->どちらもグループに属していれば許可される
・vender側で危険なモデルを登録する
・↑の処理をしようとすると危険なデバイスとしてアクセスを弾く -->


## メンバー

市野　樹也

福田　竜央

## デプロイ先URL
